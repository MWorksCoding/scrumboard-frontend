<div class="contacts">
  <div class="header-icon">
    <h1>Contacts</h1>
  </div>
  <div class="grid">
    <mat-card class="input-grid">
      <div class="grid-left-right">
        <mat-list style="width: 100%">
          @for (contact of contacts; track contact) {
          <mat-list-item
            class="contact-list"
            (click)="showContactInfo(contact)"
          >
            <mat-icon
              matListItemIcon
              class="contact-icon"
              [ngStyle]="{ 'background-color': contact.color }"
              >person</mat-icon
            >
            <div matListItemTitle>
              {{ contact.first_name + " " + contact.last_name }}
            </div>
          </mat-list-item>
          }
        </mat-list>
      </div>
    </mat-card>

    @if (detailView) {
    <mat-card class="details">
      <mat-card-title>Contact info</mat-card-title>
      <div class="grid">
        <div>First name</div>
        <div>{{ firstName }}</div>
        <div>Last name</div>
        <div>{{ lastName }}</div>
        <div>Email:</div>
        <div>{{ email }}</div>
        <div>Phone number:</div>
        <div>{{ phone }}</div>
      </div>
    </mat-card>
    }
  </div>
  <div class="header-icon" style="margin-top: 32px">
    <button
      mat-raised-button
      color="primary"
      type="submit"
      class="create-task-button"
      (click)="addContact()"
    >
      Add new contact
    </button>
    @if (detailView) {
    <button mat-raised-button color="primary" class="cancel-button" (click)="editContact(firstName, lastName, email, phone, color, id)">
      Edit contact
    </button>
    <button mat-raised-button color="primary" class="cancel-button" (click)="deleteContact($event, id)">
      Delete contact
    </button>
    }
  </div>
</div>
